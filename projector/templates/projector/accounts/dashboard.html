{% extends "richtemplates/accounts/profile.html" %}

{% load i18n %}

{% block extra-head %}{{ block.super }}
<style>
    table.action-table thead tr th {
        vertical-align: inherit;
        text-align: center;
        width: 150px;
    }
    table.action-table tbody tr th {
        vertical-align: inherit;
        text-align: center;
    }
    table.action-table a.richbutton {
        width: 120px;
    }
</style>
{% endblock %}

{% block col-left %}
    
    <div class="richtemplates-panel">
        <h5>{% if profile.is_team %}{% trans "Team" %}{% else %}{% trans "User" %}{% endif %}: {{ request.user }}</h5>
	    <div class="richtemplates-panel-content">
            {% if request.user == profile.user %}
			<ul class="nav-vertical">
                <li><a href="{% url projector_users_profile_detail request.user.username %}">{% trans "Show your public profile" %}</a></li>
                <li><a href="{% url projector_dashboard %}">{% trans "Dashboard" %}</a></li>
            </ul>
            {% endif %}
	    </div>
	</div>

{% endblock %}

{% block col-main-title %}
{% if profile.is_team %}
    {% trans "Team profile" %}
{% else %}
    {% trans "User profile" %}
{% endif %}
{% endblock %}

{% block col-main-content %}
    <form action="." method="post">
        {% csrf_token %}
        <table class="form-table">
            {% include "richtemplates/forms/form.html" %}
        </table>
        <div>
            <input id="id_submit" type="submit" name="submit" value="Submit" />
        </div>
    </form>
{% endblock %}

{% block col-main-extra %}
<div class="richtemplates-panel">
    <h5>{% trans "Actions" %}</h5>
    <div class="richtemplates-panel-content">

        <table class="action-table">
            <thead>
                <tr>
                    <th>{% trans "Action" %}</th>
                    <th>{% trans "Description" %}</th>
                </tr>
            <tbody>
            <tr>
                <th>
                    <a href="{% url projector_project_create %}"
                       class="richbutton">{% trans "Create project" %}</a>
                </th>
                <td>
                    <div class="message message-info">
                        <p>{% trans "Create new project" %}</p>
                    </div>
                </td>
            </tr>
            <tr>
                <th>
                    <a href="{% url projector_dashboard_fork %}"
                       class="richbutton">{% trans "Fork project" %}</a>
                </th>
                <td>
                    <div class="message message-info">
                        <p>
                            {% blocktrans %}
                            Fork project from external location (i.e. from <a href="http://bitbucket.org">Bitbucket</a>).
                            This is <strong>not</strong> same as forking project within {{ site }} - to fork project
                            already present here simply navigate to the project homepage and run fork process from there.
                            {% endblocktrans %}
                        </p>
                    </div>
                </td>
            </tr>
            {% if not profile.is_team %}
            <tr>
                <th>
                    <a href="{% url projector_dashboard_convert_to_team %}"
                       class="richbutton">{% trans "Convert to team" %}</a>
                </th>
                <td>
                    <div class="message message-info">
                        <p>
                        {% blocktrans %}
                    Converts your account into Team. This account would remain untouched - you'd be able to authorize 
                    with it and manage it as usual. However, new Group with same name as your username would be created and
                    Team connecting this group would be created for each project you're author of.
                        {% endblocktrans %}
                        </p>
                    </div>
                </td>
            </tr>
            {% endif %}
            </tbody>
        </table>

    </div>
</div>
{% endblock %}

